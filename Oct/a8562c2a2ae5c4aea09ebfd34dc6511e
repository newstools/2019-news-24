Nigerian President Muhammadu Buhari on Friday denounced recent xenophobic violence in South Africa as an "embarrassment" for the continent, as he wrapped up a state visit. Buhari's trip was overshadowed by a spate of recent attacks against foreign workers in South Africa, where the unemployment rate stands at 29 percent. Mobs descended on foreign-owned stores in and around Johannesburg in early September, destroying properties and looting and at least 12 people, mostly South Africans, were killed. "The recent acts of xenophobic attacks on our compatriots and other Africans in South Africa are shocking to me, Nigerians and indeed Africa. It was an embarrassment to the continent," he said. "As a government, we are quite disturbed by these very unfortunate events and have taken actions and measures to address this issue and prevent their re-occurrence with the South African government." Buhari and South African counterpart Cyril Ramaphosa agreed to set up better intelligence and share information to pre-empt anti-foreigner sentiment from transforming into violence and bloodshed. Violent attacks targeting foreigners rocked South Africa notably in 2008 and 2015, shocking a country that suffered racist white-minority rule for decades and which now prides itself as a "rainbow nation" for people of all colours and communities. Africa's most industrialised economy is a magnet for migrant workers seeking better job prospects on the continent. Nigerians make up a significant part of that population, which also includes people from Malawi, Zimbabwe and South Asia.